# $Id: fepctrl.doc,v 1.1 2000/06/27 01:48:03 amura Exp $
============================================================================
日本語入力 FEP 操作ライブラリー FEPCTRL ユーザーズマニュアル
============================================================================

【名称】
	FEPCTRL - 日本語入力 FEP をアプリケーションから制御する

【バージョン】
	1.5 - 1992/04/08

【形式】
	#include "fepctrl.h"

	int	fep_init(void)		... 初期化および変換オフ
	void	fep_term(void)		... 変換状態の復元および終了処理
	void	fep_on(void)		... fep_off() 時の変換状態に戻す
	void	fep_off(void)		... 変換状態を保存して変換オフ
	void	fep_force_on(void)	... 変換オン
	void	fep_force_off(void)	... 変換状態を保存せず変換オフ
	int	fep_raw_init(void)	... 初期化
	void	fep_raw_term(void)	... 終了処理
	int	fep_get_mode(void)	... 変換状態の取得

【説明】
	FEPCTRL は C 言語で書かれたアプリケーションから MS-DOS 上の日本語入
	力 FEP の変換オン・オフを制御するためのライブラリーである。このライ
	ブラリーを使うことにより、組み込まれている FEP の種類によらず、さま
	ざまな FEP をアプリケーションから統一的に制御することができる。

	このライブラリーを使うアプリケーションは、最初に fep_init() を呼ばな
	ければならない。fep_init() は組み込まれている FEP を識別し、変換オン
	の状態であればオフにしてから、各 FEP に対応する定数を返す。この定数
	は fepctrl.h に enum 型で定義されており、いずれの FEP の組み込みも確
	認できない場合には FEP_NONE、すなわち 0 が返る。これ以後 fep_term()
	が呼ばれるまでのあいだ、アプリケーションはライブラリーの各関数を利用
	できる。アプリケーションは、ライブラリーの使用終了時には fep_term()
	を呼ばなければならない。fep_term() は FEP を fep_init() が呼ばれたと
	きの変換状態に戻す。fep_init() と fep_term() の組はアプリケーション
	の実行中に何度実行されてもよく、特に子プロセスの実行など制御がプログ
	ラムを離れる場合には、その直前直後を fep_term() と fep_init() で囲ん
	でおく必要がある。ただし、2 回目以降に実行された fep_init() では FEP
	の識別を行わないので、この間に FEP を切り放したり組み替えたりすると
	動作が正常に行われない恐れがある。なお、FEP が FEP_NONE であっても各
	ライブラリー関数を呼んで差し支えなく、この場合は何の動作も行われない。

	fep_off() は FEP の現在の変換状態を記憶し、変換をオフにする。fep_on()
	は FEP を fep_off() が呼ばれたときの変換状態に戻す。ただし fep_off()
	が呼ばれていない状態で fep_on() が呼ばれた場合は fep_init() が呼ばれ
	たときの変換状態になる。つまり、アプリケーションが一時的に FEP を通
	さずに入力を行いたい場合、その前後を fep_off() と fep_on() で囲めば
	よい。fep_off() を呼んだときの変換モードは、それが日本語入力状態であ
	ろうとなかろうと、fep_on() が呼ばれた段階で回復されることになる。

	fep_force_on() は無条件に変換をオンにする。このときの変換状態は FEP
	に依存する。fep_force_off() は現在の変換状態を記憶することなく変換を
	オフにする。プログラムが通常は変換オフの状態で実行されていて、一時的
	に日本語入力が必要になる場合には、fep_force_on() と fep_force_off()
	でその前後を囲めばよい。

	fep_raw_init()、fep_raw_term() は fep_init()、fep_term() と同様に初
	期化と終了処理を行うが、fep_raw_init() は FEP を変換オフの状態にせず、
	fep_raw_term() は FEP を fep_raw_term() が呼ばれたときの状態に戻すこ
	とをしない。FEP を初期化時と異なる状態にして終了するようなアプリケー
	ションでは、fep_init() や fep_term() の代わりにこちらの関数を使う必
	要がある。なお、fep_init() や fep_term() と同時には使用できない。

	fep_get_mode() は FEP の現在の変換状態を返す。この値は FEP がオフの
	ときには 0、オンのときには 0 以外である。

	定義されている FEP の数は FEP_NONE を含め NFEPS 個であり、fep_init()
	が返す値は 0 以上 NFEPS-1 以下の数値である。定数 NFEPS は fepctrl.h
	中で enum 型の値として定義されている。

	このライブラリーは Turbo C 1.5/2.0、Turbo C++ 1.0、Borland C++ 2.0/
	3.0、Microsoft C 5.1/6.0、Quick C 2.0、Lattice C 4.1、LSI C-86 3.2/
	3.3 試食版から利用することが可能であり、以下の例外を除いて各コンパイ
	ラーの全メモリーモデルに対応している。Lattice C ではヒュージモデルで
	利用することができず、またコンパイル時に -t を指定してネガティブスタ
	ックフレームを使用する必要がある（通常のポジティブスタックフレームを
	使用したオブジェクトとリンクすることは可能）。また、LSI C-86 ではス
	モールモデルでのみ利用可能である。コンパイラーやメモリーモデルにもよ
	るが、このライブラリーをリンクすることにより、最低で 4.7KB ほど消費
	メモリーが増加する。

	fepctrl.c の先頭にはライブラリーの動作を変更するための３つのマクロ定
	義が置かれている。コンパイル時に DO_MSKANJI を指定しなかった場合には、
	MS-KANJI API 仕様の FEP を制御できなくなるが、消費メモリーが 500 バ
	イトほど少なくなる。また、DO_GENERIC を指定しなかった場合は、PC-9801
	以外の機種専用の FEP を制御できなくなる。これらの２つは PC-9801 専用
	のプログラムから利用するとき役に立つかも知れない。さらに、DO_USERDEV
	を指定しなかった場合には、後述するダミーデバイス名による組み込み判定
	が行われなくなる。対応する FEP を少なくしても FEPDMY.SYS、FEPAID.SYS
	などの制御支援ユーティリティーを使いたくない場合には役に立つかもしれ
	ない。このライブラリーが参照する C ライブラリー関数は以下のものだけ
	である。

	　　intdos(), intdosx(), int86(), int86x(), bdos(), strncmp()
	　　memset() ... DO_MSKANJI を指定した場合のみ
	　　intdoss(), int86s(), FP_SEG(), FP_OFF() ... Lattice C 4.1 のみ

	現在のバージョンでサポートする FEP は次のものである。括弧内は確認さ
	れた対応機種を示す。

	　　MS-KANJI API 仕様の FEP (各種 MS-DOS 機)
	　　VJE-α/β/Σ (PC-9801)
	　　ATOK5/ATOK6/ATOK7 (PC-9801, Panacom M, J3100, AX, PS/55, DOS/V)
	　　松茸86/松茸V2/松茸V3 (PC-9801)
	　　EGBridge Ver.2/Ver.3 (PC-9801)
	　　Katana2/ACE/Katana4 (PC-9801)
	　　FIXER3/FIXER4 (PC-9801)
	　　WX/WXS/WXP/WX2/WXA6/WX2+ (PC-9801, J3100, DOS/V)
	　　DFJ/DFJ2 (PC-9801)
	　　MGR2/JJ (PC-9801)
	　　E1 (PC-9801)
	　　DANGO変換 (PC-9801)
	　　おてもと (PC-9801)
	　　OMAC (PC-9801)
	　　αX-1 (PC-9801)
	　　AJIP1 (PC-9801)
	　　Joker-III (PC-9801)
	　　NEC 逐次/連文節変換、AI かな漢字変換 (PC-9801)
	　　風、嵐 Ver.2/Ver.3 (PC-9801)
	　　オアシスかな漢字変換 (FM-R)
	　　かな漢字変換機能 (Panacom M)
	　　連文節日本語入力/日本語自動変換システム (B16、Mr.マイツール)
	　　日本語入力システム (Mr.マイツール MAGUS)
	　　FEPEX (IF800)
	　　単漢字変換/連文節変換 (IBM DOS/V)

	なお、マクロ TEST を定義して fepctrl.c をコンパイルすると、FEP 制御
	の簡易テストプログラムが得られる。ライブラリーに新たな FEP の制御を
	追加したときはこのプログラムでテストすることができる。test オプショ
	ンを指定してテストプログラムを起動すると、組み込みが確認された FEP
	の名前が表示され、４行のテキスト入力が要求される。以下は WXP を組み
	込んだ状態でテストプログラムを実行した場合の例である。

	　　A> tcc -DTEST fepctrl.c
	　　...
	　　A> fepctrl test <RET>
	　　fep = WXP
	　　enter 4 lines of text
	 　　on: うにゃにゃん <RET>
	　　off: unyanyan <RET>
	　　 on: ふひょひょ <RET>
	　　off: fuhyohyo <RET>
	　　A> _ 

	最初の１行は fep_force_on() によって強制的に変換オンの状態になってい
	る。ここでテキストを入力して改行すると、fep_off() によって変換がオフ
	になる。次に１行入力すると、次は fep_on() によって変換がオンになる。
	変換モードは fep_off() が入力されたときの状態になっているので、最初
	の１行の途中で変換モードが変更されている場合には、できるだけそのモー
	ドが再現されるようになっている。ここで１行入力すると fep_force_off()
	で変換オフの状態になるので、さらに１行入力する。この入力が終了すると、
	FEP はテストプログラム起動時の状態に戻り、テストプログラムが終了する。

	各行の先頭には、fep_get_mode() の結果によって「on:」あるいは「off:」
	が表示される。

【備考】
	未確定の入力がある状態では、一般にその入力を捨てて変換をオフにするこ
	とができない。

	fep_force_on() によって強制的に変換をオンにする場合、実際にどのよう
	なモードになるかは FEP に依存する。変換位置はカーソル位置ないし既定
	の変換位置となる。入力モードは既定の入力モードとなるが、例えば ATOK6
	では変換がオフのときに入力モードを知る手段が存在しないため、配布時の
	設定では「ローマ字漢字」モードが選択される。なお、fep_force_on() で
	移行するモードは fepctrl.c 中の配列 fepon[] に定義されているので、必
	要に応じて変更することができる。

	FEP が変換オン状態のときに fep_get_mode() が返す値は FEP に依存する。

	MS-DOS 5.0 の KKCFUNC.SYS を利用して複数の FEP を組み込んでいる場合、
	MS-KANJI API に対応していない FEP があると組み込み判定が正しく行われ
	ない可能性がある。ただし、KKCFUNC.SYS に対応していながら MS-KANJI API
	に対応しないことが許されるかどうかは現在のところ不明である。

	MS-KANJI API 仕様と独自インターフェースの両方を備えた FEP は MS-KANJI
	API 仕様の FEPとして認識される。

	MS-KANJI API 仕様の FEP では、ライブラリーの使用後に変換位置がカーソ
	ル位置に固定されてしまう場合がある。これは VJE-β 2.x や AI かな漢字
	変換が持つ MS-KANJI API の不具合に対応しているためである。

	VJE-α Ver.1.10 以前のバージョン、ATOK5 の初期バージョンは制御できな
	い。また、EGBridge Ver.2 では変換オン直後の１文字の入力が変換の対象
	とならない場合がある。FIXER4 は V3 互換インターフェースのみによって
	制御される（V4 インターフェースを使用しない）。松茸V3 は V2 互換イン
	ターフェースのみによって制御される（V3 ネイティブインターフェースを
	使用しない）。

	EGBridge、MGR2/JJ、おてもと、Joker-III については原作者が独自に調査
	した方法で制御しているため、ライブラリーの使用によって何らかの障害が
	発生する可能性がある。ただし、これまで使用した限りでは特に問題は発見
	されていない。

	J3100 の MIJ（独自 API） については対応しているはずであるが、動作を
	確認していない。

	Microsoft C 5.1、Lattice C 4.1 では、データ領域にコードを置いてそこ
	に飛び込むというトリッキーな方法を用いて ATOK7 および FIXER3/FIXER4
	の関数呼び出しによる制御を実現している。このため、データ領域に置いた
	コードを実行できないようなメモリー管理が行われている環境では利用でき
	ないことが考えられる。

	Lattice C 4.1 でコンパイルした場合、松茸86 を制御する際にハングアッ
	プすることがある。この現象は Lattice C でコンパイルした直後に制御し
	たときには必ず発生するが、いったん計算機をリブートした後では発生しな
	いようである。現在のところ原因は不明。

	ソフトウエア割り込みベクター上に置かれた識別文字列で組み込みを判定し
	ている FEP では、PC-9801 と異なる割り込みベクターを利用している場合
	には制御できない。またデバイス名で組み込みを判定してソフトウエア割り
	込み経由で制御している FEP は、PC-9801 以外の機種では誤動作を起こす
	可能性がある。なお、現実にこの問題が発生したために、識別文字列による
	判定をデバイス名による判定より優先させることにした。

	組み込み判定の手段が用意されていない一部の FEP、サードパーティーの組
	み込みユーティリティーで組み込んだ FEP、PC-286/386 シリーズ上の FEP
	などについては、FEPCTRL 単独では制御できない場合がある。このような場
	合でもライブラリーに付属する FEPDMY.SYS、FEPAID.SYS などの制御支援ユ
	ーティリティーを同時に組み込めば制御できることがある。これについては
	次節以降の FEPDMY.SYS、FEPAID.SYS の説明および付表「FEPCTRL Ver.1.2
	〜 1.5 による FEP 制御テスト結果」を参照されたい。

	PC-9801 上の FEP には、オン・オフの際にテキスト VRAM を分割・結合し
	た結果が CRT BIOS の作業領域に残るためにオン・オフを検出できるものが
	ある。さらに、KBD BIOS のバッファーに直接 CTRL-XFER のコードを書き込
	むことによってオン・オフが可能ならば、独自インターフェースの有無によ
	らず FEPCTRL からこれらの FEP を制御することが可能である。FEPCTRL で
	は、いくつかの FEP をこのような方法で制御している。

	ただし、この方法で制御する場合にはいくつかの理由で動作が不安定になる
	ことがある。CRT BIOS の作業領域は FEP 以外のプログラムからも使用され
	るため、このライブラリーの使用前あるいは使用中に他のプログラムから変
	更されてオン・オフの判定をあやまる場合がある。例えばカーソルタイプを
	変更する BIOS 呼び出しはこの作業領域をクリアする。また KBD BIOS のバ
	ッファーに書き込まれた CTRL-XFER のコードがどの時点で FEP に読まれる
	かは FEP によって異なり、次にキーボード割り込みが発生したとき（INT
	09h）、次にキー入力を読もうとしたとき（INT 18h）、次にコンソール出力
	を行ったとき（INT 29h）、MS-DOS がアイドル状態になったとき（INT 28h）
	などさまざまである。このため、オン・オフの制御が続けて行われた場合、
	制御の間にキー入力あるいはコンソール出力が行われなかった場合などには
	正しく制御できないことがある。

	このライブラリーではこれらの問題に対応するため、BIOS 経由での制御を
	３種類用意して FEP によって使い分けている。詳細についてはソースを参
	照されたい。

【関連文献】
	太田純「特集: 汎用 FEP 制御ライブラリ FEPCTRL」『C マガジン』1991 年
	3 月号, ソフトバンク
		FEPCTRL Ver.1.2 で制御可能な各種 FEP の API および FEPCTRL
		Ver.1.2 の内部構造を解説している。

	太田純「特集: 続・汎用 FEP 制御ライブラリ構築」『C マガジン』1991 年
	9 月号, ソフトバンク
		上記記事へのフォローアップ。FEPCTRL Ver.1.4 対応。

【利用条件】
	このライブラリー（FEPDMY.SYS、FEPAID.SYS を含む）の利用、改変、再配
	布にはいかなる制限もない。原作者はこのライブラリーに関するすべての著
	作権を放棄すること、またいかなる場合でも著作者人格権を主張しないこと
	を表明する。言い換えれば、原作者はこのライブラリーがパブリックドメイ
	ンに置かれたものとして扱われることを期待する。オリジナル版、改変版の
	商業的利用あるいは各種 BBS への転載などについても、原作者への連絡は
	一切不要である。

	ただし、原作者はこのライブラリーに関していかなる保証も行わない。原作
	者はこのライブラリーが期待された動作をすること、特定の目的に対して有
	用であることを保証せず、またこのライブラリーを利用したことによって生
	起したいかなる損害に対する責任も負わないものとする。

	このライブラリーを改変して再配布する場合、各自による改変部分を何らか
	の形で保護したい場合には、改変部分と制限条項を何らかの形で明示してお
	かなければならない。明示のない場合には、改変者は自己の改変部分につい
	て原作者による部分と同じ扱いを受けることに同意したものとみなす。

【原作者】
	太田純
	ohta@src.ricoh.co.jp (junet)
	msa02563 (MSA-NET)

【謝辞】
	Katana2/ACE/Katana4 に関してはサムシンググッドから、FIXER3/FIXER4 に
	関しては日本マイコン販売から技術資料を提供していただいた。また、制御
	情報の入手およびテストについては、以下の各氏に多大な援助をいただいた
	（敬称略）。

	　　太田昌宏、景山昭博、笠井康伸、金子  裕、兼宗  進、久保田英行、
	　　坂野恒之、澤口昌規、滝川雅巳、千葉  滋、冨岡  晶、成澤一浩、
	　　樋口貴章、藤崎清孝、村井  淳、Ｏｈ！Ｎｏ！

	上記各社および各氏に対して深く感謝の意を表したい。また MSA-NET の TP
	コーナーほか、日経 MIX の fp 会議、aisoft 会議、k3 会議、v.c. 会議の
	議論を参考にさせていただいた。

【履歴】
	1990/1 - jstevie1.1 の一部として初版をリリース
	* 対応 FEP は MS-KANJI API、ATOK5/ATOK6/ATOK7、VJE-α/β/Σ、松茸V2、
	  FIXER3/FIXER4、Katana2/ACE、EGBridge Ver.2/Ver.3、WXP、E1
	* VJE-β Ver.2 の MS-KANJI API は使用していない
	* ATOK7 は 7TO6.COM を組み込んで ATOK6 互換 API を実現した場合のみ
	* FIXER3/FIXER4 はソフトウエア割り込み API のみ
	* E1 については未テスト

	1990/2 - jstevie1.2 の一部としてリリース
	* 対応 FEP に NEC AI 変換、DFJ、MGR2 を追加
	* VJE-β Ver.2 を MS-KANJI API で制御するよう変更
	* PC-9801 の BIOS 作業領域を利用した制御を実装

	1990/06/06 - jstevie1.3 から切り出し、バージョン 1.0 とする
	* 対応 FEP に松茸86 を追加
	* MELWARE Ver.4 の FPLD.SYS に対応
	* FEPDMY.SYS を追加し、組み込みが判定できない FEP に対応
	* ATOK7、FIXER3/FIXER4 を関数経由の独自 API で制御するよう変更
	* WXP の制御方法を CTRL-XFER を使う方式に変更
	* PC-9801 の BIOS 作業領域を利用した制御を改善

	1990/08/20 - バージョン 1.1
	* 対応 FEP に NEC 逐次変換、J3100 の ATOK7R、FM-R の OAK を追加
	* IOS-10/II の BNKDRV.SYS に対応
	* 引数でデバイス名を指定できるように FEPDMY.SYS を変更
	* ATOK5/ATOK6 の組み込み判定方法を変更し、AtokID Ver.1.02 に対応
	* 松茸用 G-RAM 転送ドライバ、裏しまっ太郎使用時の動作を確認
	* BNKDRV.SYS で組み込んだ ATOK7 を制御する BDATOK7 を別途リリース

	1990/11/25 - バージョン 1.2
	* 対応 FEP に OAK Ver.4.20、J3100 の WXP、J3100 の ATOK5T、
	  MS-DOS3.3C の NEC AI 変換、風、嵐、日立純正 FEP を追加
	* BNKDRV.SYS で組み込んだ松茸V2/XMS対応版に対応
	* FEPAID.SYS を追加し、PC-286/386 における BIOS 経由での制御に対応
	* MS-KANJI API の制御方法を一部変更
	* NEC 純正 FEP の制御方法を拡張機能呼び出しを使う方式に変更
	* PC-9801 の VRAM を利用した状態検出を実装
	* MEMORY-PRO386 の LU.DRV 使用時の動作を確認
	* MSATOK 使用時の不具合を確認

	1991/05/18 - バージョン 1.3
	* コードを ANSI スタイルに書き直し、全面的にクリーンアップ
	* 対応コンパイラーに Turbo C++ 1.0、Borland C++ 2.0、
	  Microsoft C 6.00、Quick C 2.0、Lattice C 4.1、
	  LSI C-86 3.2 試食版を追加
	* 対応 FEP に JJ、WX2、リコー純正 FEP、Katana4（未テスト）、
	  AX の ATOK6、IBM PS/55 シリーズの ATOK6/ATOK7、
	  IBM DOS/V の ATOK7、IBM 単漢字/連文節、
	  IF800 シリーズの FEPEX、J3100 の MIJ（未テスト）を追加
	* PC-9801 の WXS、AX の VJE-β、IBM DOS/V の VJE-βの動作を確認
	* MS-KANJI API の制御方法を一部変更して安全性を向上
	* 組み込み判定の順序を（やむなく）割り込みベクター優先に変更
	* FIXER4 を FIXER3 互換 API のみによって制御するよう変更
	* Microsoft C 5.1、Lattice C 4.1 での ATOK7/7R、FIXER3/FIXER4 の
	  関数呼び出しによる直接制御を実現

	1991/06/29 - バージョン 1.4
	* 対応 FEP に Panacom M シリーズのかな漢字変換機能を追加
	* PC-9801 の松茸V3、Katana4、WX2+、
	  Panacom M シリーズの ATOK6 での動作を確認
	* ATOK6+MSKN、ATOK7+MSKN での動作を確認

	1992/04/08 - バージョン 1.5
	* ライブラリー関数に fep_raw_init()、fep_raw_term()、
	  fep_get_mode() を追加
	* テストプログラムを拡張してバッチユーティリティーを作成
	* 対応コンパイラーに Borland C++ 3.0、LSI C-86 3.3 試食版を追加
	* 対応 FEP に PC-9801 の DANGO 変換、おてもと、OMAC、AJIP1、
	  Joker-III、嵐V3 を追加
	* PC-9801 の DFJ2、VJE-β3.0、E1、WX、WXA6、αX-1、
	  IBM DOS/V の WX2+/WX2I/WX2A7、J3100 の WX2+/WX2A5/WX2A7、
	  FM-R シリーズの VJE-β2.5 での動作を確認
	* PC-9801 の BIOS 作業領域を利用した制御を改善
	* NEC および日本 IBM の MS-DOS 5.0 での動作を確認
	* デバイスのオープンの際にドライブ名「@:」を付加するよう変更して
	  デバイスアクセスの安全性を向上
	* FEPAID.SYS のバグを修正

============================================================================

【名称】
	FEPCTRL.COM/EXE - バッチファイルのための FEP 制御ユーティリティー

【バージョン】
	FEPCTRL ライブラリーと同じ

【形式】
	fepctrl [コマンド]
	コマンド:
		help   - ヘルプメッセージを表示する
		test   - 従来と同様の FEP テストを行う
		name   - 組み込まれた FEP 名を表示する
		on     - FEP を変換オンにする
		off    - FEP を変換オフにする
		flip   - FEP の変換状態を反転する
		status - FEP の変換状態を返す
		check [FEP名 ...]
		       - 指定された FEP が存在するかどうか調べる
	FEP名:
		PC9801A, PC9801B, PC9801C, MSKANJI, VJE, ATOK6, ATOK7,
		MTTK86, MTTK2, KATANA, FIXER, EGB2, EGB3, WXP, WX2,
		MGR2, JJ, NEC, DFJ, DANGO, OTEMOTO, OMAC, AJIP1,
		JOKER3, KAZE, OAK, MKK, B16, RICOH, WXPJ, MIJ,
		FEPEX, AT6AX, AT6IBM, AT7IBM, AT7DOSV, IBMIAS

【使用例】
	rem - FEP が存在して変換オンなら変換オフにする
	rem - (実際には fepctrl off だけでも弊害はない)
	fepctrl check
	if not errorlevel 1 goto done
	fepctrl status
	if not errorlevel 1 goto done
	fepctrl off
	:done

【説明】
	このユーティリティーは、バッチファイルの内部で FEP の状態を取得した
	り制御したりするためのものである。機能としては、特定あるいは不特定の
	FEP の組み込みをチェックする機能、FEP の変換状態を取得する機能、変換
	状態を変更する機能などがある。

	取得された組み込み状態や変換状態はユーティリティーの終了コードとして
	呼び出し側プロセスに返されるため、バッチファイル中で errorlevel を判
	定することによって結果を利用することができる。

	特定の FEP がどのような名称で組み込みを識別されるかは状況に依存する。
	例えば、VJE-βは VJE でなく MSKANJI と識別される可能性が高い。このた
	め、内部動作に対する十分な知識を持たないかぎり、このユーティリティー
	を特定の FEP の組み込みチェックのために利用することは避けた方が賢明
	である。

	なお、マクロ TEST を定義して fepctrl.c をコンパイルすればこのユーテ
	ィリティーが作られる。

============================================================================

【名称】
	FEPDMY.SYS - 任意の名称を持つダミーデバイスを登録する

【バージョン】
	1.0 - 1990/06/05  初期バージョン
	1.1 - 1990/06/10  パラメーターによるデバイス名設定機能の追加

【形式】
	DEVICE=FEPDMY.SYS <デバイス名>

【使用例】
	DEVICE=FPLD.SYS DFJ.SYS
	DEVICE=FEPDMY.SYS FP$DFJ
	（MELWARE Ver.4 に付属の FPLD.SYS で DFJ を組み込む場合）

【説明】
	FEPDMY.SYS は何もしないダミーデバイスであり、組み込みの際にパラメー
	ターとして指定された名前をデバイス名として持つ。FEPDMY.SYS は、各種
	MS-DOS 機で利用可能である。

	FEPCTRL ライブラリーで FEP を制御する場合、どの FEP が組み込まれてい
	るかを判定する必要があるが、FEP そのものが組み込み判定の手段を用意し
	ていない場合や、ある種の組み込みユーティリティーを用いて組み込んだ場
	合には判定が行えないことがある。FEPDMY.SYS は、適当なデバイス名を登
	録することによって組み込み判定不能な FEP を FEPCTRL から認識させるた
	めの支援ユーティリティーである。

	FEPDMY.SYS を用いれば、どんな FEP でも FEPCTRL から組み込みを判定で
	きるようになるが、どのデバイス名がどの FEP に対応するかについてはあ
	らかじめ FEPCTRL と合意を取っておく必要がある。現在 FEPCTRL が認識す
	るダミーデバイス名は次のものである。どの状況でどのデバイス名を利用す
	べきかについては、付表「FEPCTRL Ver.1.2 〜 1.5 による FEP 制御テスト
	結果」を参照されたい。

	　　FP$PC98A（PC-9801 の BIOS 領域操作による制御 (1)）、
	　　FP$PC98B（PC-9801 の BIOS 領域操作による制御 (2)）、
	　　FP$PC98C（PC-9801 の BIOS 領域操作による制御 (3)）、
	　　FP$VJE（VJE-α/β/Σ）、FP$ATOK6（ATOK5/ATOK6、DANGO 変換）、
	　　FP$MTTK（松茸86; FP$PC98A と同義）、FP$KTN（Katana2/ACE）、
	　　FP$EGB2（EGBridge Ver.2）、FP$EGB3（EGBridge Ver.3）、
	　　FP$WXP（WX、WXS、WXP Ver.1.03a）、FP$WX2（WXP Ver.1.04c、WX2）、
	　　FP$MGR2（MGR2/JJ）、FP$NEC（NEC 逐次/AI 変換）、
	　　FP$DFJ（DFJ; FP$PC98A と同義）、FP$KAZE（風、嵐V2/V3）、
	　　FP$AJIP1（AJIP1; FP$PC98B と同義）、FP$JOKER（Joker-III）、
	　　FP$OMAC(OMAC; FP$PC98C と同義）、FP$OAK（FM-R の OAK）

============================================================================

【名称】
	FEPAID.SYS - PC-9801/PC-286 の BIOS 領域による FEP 制御を支援する

【バージョン】
	1.0 - 1990/10/19  初期バージョン
	1.1 - 1991/03/18  CRT BIOS 作業領域を保存するよう変更
	1.2 - 1992/03/23  バグ修正(saveworkの参照にcs:を忘れていた^_^;)

【形式】
	DEVICE=FEPAID.SYS [<デバイス名>]

【使用例】
	DEVICE=DFJ.SYS
	DEVICE=FEPAID.SYS FP$DFJ
	（PC-286/386 シリーズ上で DFJ の制御を行う場合）

【説明】
	FEPAID.SYS は、PC-9801/PC-286 での BIOS 領域操作による FEP 制御を支
	援するためのダミーデバイスである。FEPDMY.SYS と同様に、組み込みの際
	にパラメーターとしてデバイス名を指定できる。FEPAID.SYS は PC-9801 お
	よび PC-286/386 シリーズで利用可能である。

	FEPCTRL の節で述べたように、PC-9801 では CRT BIOS の作業領域から FEP
	の状態を検出できる場合がある。FEP が制御インターフェースを用意してい
	ない場合、組み込み方法によっては本来の状態検出方法が有効でない場合な
	どが存在するため、FEPCTRL では CRT BIOS 作業領域からの状態検出を積極
	的に活用している。しかし、互換機である PC-286/386 では BIOS の互換性
	が不足しているためこの方法が利用できない。また、FEP によってはこの作
	業領域を使用しない CRT BIOS 呼び出しを用いるものもある。 FEPAID.SYS
	は CRT BIOS 呼び出しを監視し、必要に応じて CRT BIOS 作業領域を書き換
	えることによってこの領域からの状態検出を可能にするためのユーティリテ
	ィーである。これは FEPCTRL だけでなく、CRT BIOS 作業領域から状態検出
	を行うようなアプリケーション（EZKEY など）すべてから利用できる。

	FEPAID.SYS は int 18h をフックし、「１つの表示領域の設定」が行われた
	ときには作業領域に 0 を設定し、「複数の表示領域の設定」が行われたと
	きには作業領域に dl レジスターの値を設定する。それ以外の int 18h 呼
	び出しが行われたときには作業領域の値を保存する。具体的には以下のよう
	な操作を行っている。

	　　ah ← 0eh; int 18h のとき、0000:053dh に 0 を書き込む
	　　ah ← 0fh; int 18h のとき、0000:053dh に dl の値を書き込む
	　　それ以外の int 18h のとき、0000:053dh の値を保存する

	「表示領域の設定」以外の int 18h 呼び出しに際して作業領域の値を保存
	するようにしたのは、「カーソルタイプの設定（ah ← 10h）」が行われる
	と作業領域の値が 0 に変更されることが判明したためである（Ver.1.1）。

	FEPAID.SYS は標準で $FEPAID というデバイス名を持つが、FEPDMY.SYS と
	同様にパラメーターとして指定することによって任意のデバイス名に変更す
	ることができる。FEPCTRL から利用する場合には状況に応じて以下のいずれ
	かのデバイス名を指定する必要がある。どのようなデバイス名を組み込むべ
	きか、また FEP の前後いずれに組み込むべきかについては、付表「FEPCTRL
	Ver.1.2 〜 1.5 による FEP 制御テスト結果」を参照されたい。

	　　FP$PC98A、FP$PC98B、FP$PC98C、FP$NEC

============================================================================

付表: FEPCTRL Ver.1.2 〜 1.5 による FEP 制御テスト結果

1. NEC PC-9801 シリーズ

(1) CONFIG.SYS、ADDDRV でメインメモリーに組み込んだ場合
========================================================================
日本語入力 FEP       制御  FEPDMY*1  制御形態          常駐判定
------------------------------------------------------------------------
ATOK5 Ver.1.1          ○            INT               DEV
ATOK6 Ver.1.2          ○            INT               DEV, VECT
ATOK7 Ver.1.10         ○            FARCALL, INT*2    DEV, VECT
VJE-Σ Ver.1.05        ○            INT               DEV, VECT
VJE-β Ver.1.20R       ○            INT               DEV, VECT
VJE-β Ver.2.00 L24    ○            MSKANJIV, INT     DEV, VECT
VJE-β Ver.2.11 L02    ○            MSKANJIV, INT     DEV, VECT
VJE-β Ver.2.50 L19    ○            MSKANJIV, INT     DEV, VECT
VJE-β Ver.3.00 L00    ○            MSKANJIV, INT     DEV, VECT
松茸86 Ver.1.0         △            BIOS              VECT
松茸V2 Ver.2.11        ○            INT               VECT
松茸V2 Ver.2.13β版B19 ○            INT               VECT
松茸V3 Ver.3.00開発B14 ○            INT               VECT
EGBridge Ver.2.01      ○            INT               VECT
EGBridge Ver.3.10      ○            INT, MSKANJI*3    VECT
WX Ver.1.00            ○            INT+BIOS          VECT
WXS Ver.1.01           ○            INT+BIOS          VECT
WXP Ver.1.03a          ○            INT+BIOS          VECT
WX2 Ver.1.50a          ○            MSKANJIV, INT*4   VECT
WXA6 Ver.1.50a         ○            MSKANJIV, INT*4   VECT
WXA6 Ver.1.53          ○            MSKANJI, INT*4    VECT
WX2+ Ver.2.00          ○            MSKANJIV, INT*4   VECT
WX2A6 Ver.2.00         ○            MSKANJIV, INT     VECT
WX2A7 Ver.2.00         ○            MSKANJIV, FARCALL VECT
WX2VJ Ver.2.00         ○            MSKANJIV, INT     VECT
WX2MT Ver.2.00         ○            MSKANJIV, INT     VECT
WX2+ Ver.2.00F         ○            MSKANJI, INT*4    VECT
WX2A6 Ver.2.00F        ○            MSKANJI, INT      VECT
WX2A7 Ver.2.00F        ○            MSKANJI, FARCALL  VECT
WX2VJ Ver.2.00F        ○            MSKANJIV, INT     VECT
WX2MT Ver.2.00F        ○            MSKANJI, INT      VECT
ACE Ver.2.15           ○            INT               CON
Katana2 Ver.1.25       ○            INT               CON
Katana4 Ver.4.01       ○            MSKANJI, INT      VECT
FIXER Ver.3.10 Rel.2.1 ○            FARCALL, INT*5    IOCTL
FIXER Ver.4.13         ○            FARCALL, INT*5    IOCTL
DFJ Ver.1.0            △            BIOS              VECT
DFJ2 Ver.1.00          ○            MSKANJI           DEV
MGR2 Ver.1.00          ○            INT               DEV, VECT
JJ Ver.1.00            ○            INT               DEV, VECT
E1 Ver.1.05            ○            MSKANJI           DEV
DANGO Ver.1.00         ○            INT               VECT
おてもと Ver.1.01      ○            FARCALL           DEV
OMAC Ver.1.00          △            BIOS              VECT
αX-1 Ver.1.04         ○            MSKANJI           DEV
AJIP1 Ver.1.05         △            BIOS              DEV, VECT
Joker-III Ver.1.00     ○            INT               VECT
NEC AI (DOS3.3C以降)   ○            MSKANJIV          DEV, VECT
NEC AI (DOS3.3Bまで)   △            BIOS+INT          DEV, VECT
NEC 逐次/連文節変換    △            BIOS+INT          DEV, VECT
NEC 連文節変換         ×            状態検出不能      DEV, VECT
NEC 文節変換           ×            状態検出不能      DEV, VECT
NEC 熟語変換           ×            状態検出不能      組み込み判定不能
風 Ver.1.21            ○  FP$KAZE   VRAM              DEV
嵐 Ver.2               ○  FP$KAZE   VRAM              DEV
嵐 Ver.3               ○  FP$KAZE   VRAM              DEV
------------------------------------------------------------------------
△ PC-286 では FEPAID.SYS を同時に組み込んだ場合のみ（詳細は(6)を参照）
*1 FEPDMY.SYS を組み込む必要がある場合、引数として指定すべきデバイス名
*2 ATOK7 に付属の 7TO6.COM を同時に組み込んだ場合のみ
*3 EGBridge に付属の EGB98IF.SYS を同時に組み込んだ場合のみ
*4 組み込み時に /VZ パラメーターで WXP 互換 API を有効にした場合のみ
*5 組み込み時に /I パラメーターで V3 割り込みベクターを指示した場合のみ
========================================================================
制御形態  意味
------------------------------------------------------------------------
INT       ソフトウエア割り込み
FARCALL   制御関数への far call
MSKANJI   MS-KANJI アプリケーションインターフェース（正式）
MSKANJIV  MS-KANJI アプリケーションインターフェース（VJE 方言）
BIOS      PC-9801 CRT/KBD BIOS 経由での検出・制御（PC-286 では利用不可）
VRAM      PC-9801 VRAM の特定位置が空白かどうかで検出、BIOS 経由で制御
========================================================================
常駐判定  意味
------------------------------------------------------------------------
DEV       特定デバイスの存在
VECT      ソフトウエア割り込み先メモリー上の識別 ID
IOCTL     デバイスへの IOCTL 
CON       コンソールステータスレポートまたはフックされたベクター
========================================================================

(2) MEMORY-PRO386 V1.5 付属の LU.DRV V1.50 で仮想 UMB に組み込んだ場合
========================================================================
日本語入力 FEP       制御  FEPDMY*1  備考
------------------------------------------------------------------------
ATOK5 Ver.1.1          −            変換時に異常動作
ATOK6 Ver.1.2          ○
ATOK7 Ver.1.10         ○
VJE-Σ Ver.1.05        ○
VJE-β Ver.1.20R       −            組み込み時にハングアップ
VJE-β Ver.2.00 L24    ○
VJE-β Ver.2.11 L02    −            組み込み時にハングアップ
VJE-β Ver.2.50 L19    −            組み込み時にハングアップ
松茸86 Ver.1.0         △
松茸V2 Ver.2.11        ○
松茸V2 Ver.2.13β版B19 ○
松茸V3 Ver.3.00開発B14 ○
EGBridge Ver.2.01      ○
EGBridge Ver.3.10      ○            MS-KANJI API は利用不可
WXP Ver.1.03a          ○
WX2 Ver.1.50a          ○
WX2+ Ver.2.00          ○
ACE Ver.2.15           ○
Katana2 Ver.1.25       ○
FIXER Ver.3.10 Rel.2.1 ○
DFJ Ver.1.0            △
MGR2 Ver.1.00          ○
NEC AI (DOS3.3C以降)   ○
NEC AI (DOS3.3Bまで)   △
NEC 逐次/連文節変換    △
風 Ver.1.21            −            大きすぎて組み込めない
嵐 Ver.2               ○  FP$KAZE
------------------------------------------------------------------------
△ PC-286 では FEPAID.SYS を同時に組み込む必要がある（詳細は(6)を参照）
*1 FEPDMY.SYS を組み込む必要がある場合、引数として指定すべきデバイス名
========================================================================

(3) MELWARE V4 付属の FPLD V1.0C でバンクメモリーに組み込んだ場合*1
========================================================================
日本語入力 FEP       制御  FEPDMY*2  備考
------------------------------------------------------------------------
ATOK5 Ver.1.1          ○
ATOK6 Ver.1.2          ○
ATOK7 Ver.1.10         −            起動時にハングアップ
VJE-Σ Ver.1.05        ○
VJE-β Ver.1.20R       −            組み込み時に暴走
VJE-β Ver.2.00 L24    ○            MS-KANJI API は無効
VJE-β Ver.2.11 L02    ○            MS-KANJI API は無効
VJE-β Ver.2.50 L19    ○            MS-KANJI API は無効
松茸86 Ver.1.0         △
松茸V2 Ver.2.11        △            BIOS 経由で制御（松茸86 相当）
松茸V2 Ver.2.13β版B19 −            組み込み時に暴走
EGBridge Ver.2.01      −            組み込み時に暴走
EGBridge Ver.3.10      −            起動できない
WXP Ver.1.03a          −            組み込み時に暴走
WX2 Ver.1.50a          −            組み込み時に暴走
ACE Ver.2.15           ○
Katana2 Ver.1.25       ○
FIXER Ver.3.10 Rel.2.1 ○            FARCALL は無効、INT/BIOS で制御*3
FIXER Ver.4.13         −            組み込み時に暴走
DFJ Ver.1.0            △  FP$DFJ
MGR2 Ver.1.00          −            起動できない
NEC AI (DOS3.3C以降)   △
NEC AI (DOS3.3Bまで)   △
NEC 逐次/連文節変換    △
風 Ver.1.21            −            大きすぎて組み込めない
嵐 Ver.2               −            組み込み時に暴走
------------------------------------------------------------------------
△ PC-286 では FEPAID.SYS を同時に組み込む必要がある（詳細は(6)を参照）
*1 元のデバイス名も組み込まれるため、デバイス経由で常駐判定が可能
*2 FEPDMY.SYS を組み込む必要がある場合、引数として指定すべきデバイス名
*3 PC-286 で /I を指定せずに組み込んだ場合は FEPAID.SYS が必要
========================================================================

(4) IOS-10 V2.2 付属の BNKDRV V1.01 でバンクメモリーに組み込んだ場合*1
========================================================================
日本語入力 FEP       制御  FEPDMY*2  備考
------------------------------------------------------------------------
ATOK5 Ver.1.1          ○  FP$ATOK6
ATOK6 Ver.1.2          ○  FP$ATOK6
ATOK7 Ver.1.10         −            組み込み時にハングアップ
VJE-Σ Ver.1.00-05     ○            BNKDRV が AS$VJE を設定
VJE-Σ Ver.1.10        ○            BNKDRV が AS$VJE を設定
VJE-β Ver.1.20R       −            組み込み時にハングアップ
松茸V2 Ver.2.04        △  FP$MTTK   BIOS 経由で制御（松茸86 相当）
EGBridge Ver.3.10      ○  FP$EGB3   MS-KANJI API は利用不可
WXP Ver.1.03a          ○  FP$WXP    wxcolor、wxegg などは無効
ACE Ver.2.15           −            起動時に暴走
DFJ Ver.1.0            △  FP$DFJ
------------------------------------------------------------------------
△ PC-286 では FEPAID.SYS を同時に組み込む必要がある（詳細は(6)を参照）
*1 一部を除き元のデバイス名が組み込まれないため、FEPDMY 経由で常駐判定
*2 FEPDMY.SYS を組み込む必要がある場合、引数として指定すべきデバイス名
========================================================================

(5) IOS-10II V3 付属の BNKDRV V1.13 でバンクメモリーに組み込んだ場合*1
========================================================================
日本語入力 FEP       制御  FEPDMY*2  備考
------------------------------------------------------------------------
ATOK5 Ver.1.1          ○  FP$ATOK6
ATOK6 Ver.1.2          ○  FP$ATOK6
ATOK7 Ver.1.10         ×            FARCALL は無効、状態検出不能
VJE-Σ Ver.1.05        ○            BNKDRV が AS$VJE を設定
VJE-β Ver.1.20R       ○            BNKDRV が AS$VJE を設定
VJE-β Ver.2.00 L24    ○            BNKDRV が MS$KANJI、AS$VJE を設定
VJE-β Ver.2.11 L02    ○            BNKDRV が MS$KANJI、AS$VJE を設定
VJE-β Ver.2.50 L19    ○            BNKDRV が MS$KANJI、AS$VJE を設定
松茸86 Ver.1.0         △            割り込みベクター上の識別 ID が有効
松茸V2 Ver.2.11        △  FP$MTTK   BIOS 経由で制御（松茸86 相当）
松茸V2 Ver.2.13β版B19 ×            状態検出不能
松茸V2 Ver.3.00開発B14 ×            状態検出不能
EGBridge Ver.2.01      ○  FP$EGB2
EGBridge Ver.3.10      ○  FP$EGB3   MS-KANJI API は利用不可
WXP Ver.1.03a          ○  FP$WXP    wxcolor、wxegg などは無効
WX2 Ver.1.50a          −            組み込み時に暴走*3
WX2+ Ver.2.00          −            組み込み時に暴走*3
ACE Ver.2.15           −            起動時に暴走*3
Katana2 Ver.1.25       ○  FP$KTN
FIXER Ver.3.10 Rel.2.1 ○            FARCALL は無効、INT/BIOS で制御*4
FIXER Ver.4.13         −            組み込み時に暴走
DFJ Ver.1.0            ○  FP$DFJ
MGR2 Ver.1.00          ○  FP$MGR2
NEC AI (DOS3.3C以降)   △  FP$NEC
NEC AI (DOS3.3Bまで)   △  FP$NEC
NEC 逐次/連文節変換    △  FP$NEC
風 Ver.1.21            −            大きすぎて組み込めない
嵐 Ver.2               ○  FP$KAZE
------------------------------------------------------------------------
△ PC-286 では FEPAID.SYS を同時に組み込む必要がある（詳細は(6)を参照）
*1 一部を除き元のデバイス名が組み込まれないため、FEPDMY 経由で常駐判定
*2 FEPDMY.SYS を組み込む必要がある場合、引数として指定すべきデバイス名
*3 BNKDRV V1.14 では組み込み可能、かつ MS-KANJI API で制御可能
*4 PC-286 で /I を指定せずに組み込んだ場合は FEPAID.SYS が必要
========================================================================

(6) BNKDRV V1.13 で組み込み、同時に「FEPAID V1.0」*1 を組み込んだ場合*2
========================================================================
日本語入力 FEP       制御  FEPAID*3  組込順序*4  備考
------------------------------------------------------------------------
ATOK5 Ver.1.1          ×                        状態検出不能
ATOK6 Ver.1.2          ×                        状態検出不能
ATOK7 Ver.1.10         ×                        状態検出不能
VJE-Σ Ver.1.05        ○  FP$PC98B  FEPより後
VJE-β Ver.1.20R       ○  FP$PC98B  any
VJE-β Ver.2.00 L24    ○  any     　any
VJE-β Ver.2.11 L02    ○  any     　any
VJE-β Ver.2.50 L19    ○  any     　any
松茸86 Ver.1.0         ○  any     　any
松茸V2 Ver.2.11        ○  any     　any
松茸V2 Ver.2.13β版B19 ○  FP$PC98A  any
松茸V3 Ver.3.00開発B14 ×                        起動時に暴走
EGBridge Ver.2.01      ×                        制御できない
EGBridge Ver.3.10      ○  FP$PC98B  FEPより後
WXP Ver.1.03a          ○  any     　any
WX2 Ver.1.50a          ○  FP$PC98B  FEPより前   （BNKDRV V1.14 の場合）
WX2+ Ver.2.00          ○  FP$PC98B  FEPより前   （BNKDRV V1.14 の場合）
ACE Ver.2.15           ○  any     　FEPより前   （BNKDRV V1.14 の場合）
Katana2 Ver.1.25       ○  any     　FEPより前
FIXER Ver.3.10 Rel.2.1 ○  FP$PC98B  any
FIXER Ver.4.13         ×                        状態検出不能
DFJ Ver.1.0            ○  any     　any
MGR2 Ver.1.00          ×                        状態検出不能
NEC AI (DOS3.3C以降)   ○  FP$NEC    any         制御のみ INT 経由で行う
NEC AI (DOS3.3Bまで)   ○  FP$NEC  　any         制御のみ INT 経由で行う
NEC 逐次/連文節変換    ○  FP$NEC    any         制御のみ INT 経由で行う
嵐 Ver.2               ×                        状態検出不能
------------------------------------------------------------------------
*1 太田純作成の PC-9801/286 CRT BIOS 作業領域強制更新デバイスドライバー
*2 PC-9801 CRT/KBD BIOS 経由で検出・制御を行う（PC-286 でも利用可能）
*3 FEPAID.SYS の引数に指定すべきデバイス名（any: FP$PC98A/B のいずれか）
*4 FEP に対する FEPAID.SYS の組み込み順序（any: 前後いずれも可）
========================================================================

(7) BNKDRV V1.13 で組み込み、「BDSETID V1.0」*1 で認識させた場合*2
========================================================================
日本語入力 FEP       制御  BDSETID*3 備考
------------------------------------------------------------------------
ATOK5 Ver.1.1          ○  ATOK6
ATOK6 Ver.1.2          ○  ATOK6     *4
EGBridge Ver.2.01      ○  EGB2
EGBridge Ver.3.10      ○  EGB3      *4
WXP Ver.1.03a          ○  WXP       *4、wxcolor、wxatok などは無効*5
MGR2 Ver.1.00          ○  MGR2
NEC AI (DOS3.3C以降)   ×
NEC AI (DOS3.3Bまで)   ○  NECAIK
NEC 逐次/連文節変換    ○  NECAIK
------------------------------------------------------------------------
*1 金子裕氏作成の BNKDRV 用デバイス/識別 ID 書き込みプログラム（junet）
*2 BNKDRV V1.01 では利用できない
*3 BDSETID コマンドに指定する引数
*4 BNKDRV V1.12 でも動作確認済み
*5 ID 書き込みを「WX      01.00」にすれば wxcolor は利用可能と思われる
========================================================================

(8) BNKDRV V1.13 で組み込み、「AtokID V1.03」*1 で認識させた場合
========================================================================
日本語入力 FEP       制御  AtokID*2  備考
------------------------------------------------------------------------
ATOK5 Ver.1.1          ○  ATOKID5   メモリー上の識別ID でのみ常駐判定可
ATOK6 Ver.1.2          ○  ATOKID6   メモリー上の識別ID でのみ常駐判定可
ATOK7 Ver.1.10         ×  ATOKID7   AtokID の不備により暴走の可能性あり
------------------------------------------------------------------------
*1 NCC-1701A 氏作成、ASCII-NET PCS などで配布
*2 常駐させるコマンドのバージョン
========================================================================

(9) BNKDRV V1.13 で組み込み、「BDATOK7 V0.91」*1 で API を再設定した場合
========================================================================
日本語入力 FEP       制御            備考
------------------------------------------------------------------------
ATOK7 Ver.1.10         ○            bdatok7 -6 では ATOK6 API で制御
------------------------------------------------------------------------
*1 太田純作成の BNKDRV 対応 ATOK7 API 再設定プログラム（junet、MSA-NET）
========================================================================

(10) 「裏しまっ太郎 V1.2a」*1 で裏 G-VRAM に組み込んだ場合
========================================================================
日本語入力 FEP       制御            備考
------------------------------------------------------------------------
ATOK6 Ver.1.2          ○            デバイス名でのみ常駐判定可
------------------------------------------------------------------------
*1 サザンパシフィックの QUICKSILVER、dBXL に付属
========================================================================

(11) 「松茸用 G-RAM 転送ドライバ V1.00」*1 で G-VRAM に組み込んだ場合
========================================================================
日本語入力 FEP       制御            備考
------------------------------------------------------------------------
松茸86 Ver.1.0         ○
松茸V2 Ver.2.11        ○
松茸V2 Ver.2.13β版B19 ○
松茸V3 Ver.3.00開発B14 ○
------------------------------------------------------------------------
*1 日経 MIX の k3/pds 会議で配布
========================================================================

2. 東芝 J3100

(1) システム標準の方法でメインメモリーに組み込んだ場合
========================================================================
日本語入力 FEP       制御            制御形態          常駐判定
------------------------------------------------------------------------
ATOK5T Ver.1.2         ○            INT               DEV, VECT
ATOK7R Ver.1.00        ○            FARCALL, INT*1    DEV, VECT
WXP Ver.1.03           ○            INT               VECT
WX2+ Ver.2.00A         ○            MSKANJI           DEV
WX2A5 Ver.2.00A        ○            MSKANJI, INT      DEV, VECT
WX2A7 Ver.2.00A        ○            MSKANJI, INT*1    DEV, VECT
------------------------------------------------------------------------
*1 7TO5.COM を同時に組み込んだ場合のみ
========================================================================

3. 富士通 FM-R シリーズ

(1) CONFIG.SYS でメインメモリーに組み込んだ場合
========================================================================
日本語入力 FEP       制御  FEPDMY*1  制御形態          常駐判定
------------------------------------------------------------------------
OAK Ver.1.10           ○            INT               VECT
OAK Ver.1.30           ○            INT               VECT
OAK Ver.4.20           ○  FP$OAK    INT               VECT
VJE-β Ver.2.50 L10    ○            MSKANJI           DEV
------------------------------------------------------------------------
*1 FEPDMY.SYS を組み込む必要がある場合、引数として指定すべきデバイス名
========================================================================

4. 松下 Panacom M シリーズ

(1) CONFIG.SYS でメインメモリーに組み込んだ場合
========================================================================
日本語入力 FEP       制御            制御形態          常駐判定
------------------------------------------------------------------------
かな漢字 Ver.2.00 L13  ○            INT               VECT
ATOK6 Ver.1.2          ○            INT               DEV, VECT
========================================================================

5. 日立 B16 シリーズ、リコー Mr.マイツール

(1) CONFIG.SYS でメインメモリーに組み込んだ場合
========================================================================
日本語入力 FEP       制御            制御形態          常駐判定
------------------------------------------------------------------------
連文節 Ver.2.05A       ○            INT               VECT
自動変換 Ver.1.04A     ○            INT               VECT
自動変換 Ver.2.04A     ○            INT               VECT
========================================================================

6. リコー Mr.マイツール MAGUS

(1) CONFIG.SYS でメインメモリーに組み込んだ場合
========================================================================
日本語入力 FEP       制御            制御形態          常駐判定
------------------------------------------------------------------------
日本語入力 Ver.1.00    ○            INT               DEV
========================================================================

7. 沖 IF800 シリーズ

(1) CONFIG.SYS でメインメモリーに組み込んだ場合
========================================================================
日本語入力 FEP       制御            制御形態          常駐判定
------------------------------------------------------------------------
FEPEX Ver.2.5          ○            INT               DEV
========================================================================

8. AX 協議会機

(1) CONFIG.SYS でメインメモリーに組み込んだ場合
========================================================================
日本語入力 FEP       制御            制御形態          常駐判定
------------------------------------------------------------------------
ATOK6AX Ver.1.2        ○            INT               VECT
VJE-β Ver.2.11        ○            MSKANJI           DEV
========================================================================

9. IBM PS/55 シリーズ

(1) CONFIG.SYS でメインメモリーに組み込んだ場合
========================================================================
日本語入力 FEP       制御            制御形態          常駐判定
------------------------------------------------------------------------
ATOK6 Ver.1.2          ○            INT               VECT
ATOK7 Ver.1.10         ○            FARCALL, INT*1    VECT
------------------------------------------------------------------------
*1 ATOK7 に付属の 7TO6.COM を同時に組み込んだ場合のみ
========================================================================

10. IBM DOS J4.0x/V, J5.0x/V

(1) CONFIG.SYS でメインメモリーに組み込んだ場合
========================================================================
日本語入力 FEP       制御            制御形態          常駐判定
------------------------------------------------------------------------
IBM SKK Ver.1.00       ○            IAS*1             DEV
IBM 連文節 Ver.3.01    ○            IAS*1             DEV
ATOK7 Ver.1.10         ○            IAS*1, INT*2      VECT
VJE-β Ver.2.50        ○            MSKANJI           DEV
WX2+ Ver.2.00          ○            MSKANJI           DEV
WX2I Ver.2.00          ○            MSKANJI, IAS*1    DEV
WX2A7 Ver.2.00         ○            MSKANJI           DEV
------------------------------------------------------------------------
*1 DOS/V 日本語入力サブシステム（$IAS.SYS）経由での制御
*2 ATOK7 に付属の 7TO6.COM を同時に組み込んだ場合のみ
========================================================================
